package com.squidshoe.mfl.core.util;

import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.reflect.TypeToken;

import com.squidshoe.mfl.core.model.Franchise;

import org.junit.Before;
import org.junit.Test;

import java.lang.reflect.Type;
import java.util.List;

import static org.junit.Assert.assertNotNull;

/**
 * Created by kkovach on 9/6/15.
 */
public class FranchiseListAdapterTest {

    private Gson mGson;

    @Before
    public void setUp() throws Exception {

        MflTypeAdapterFactory mflTypeAdapterFactory = new MflTypeAdapterFactory();
        GsonBuilder gsonBuilder = new GsonBuilder();
        gsonBuilder.registerTypeAdapterFactory(mflTypeAdapterFactory);
        mGson = gsonBuilder.create();
    }

    @Test
    public void rostersFranchiseList() {

        String rostersFranchiseListJson
                = "{\"rosters\":{\"franchise\":[{\"player\":[{\"status\":\"ROSTER\",\"id\":\"4925\"},{\"status\":\"ROSTER\",\"id\":\"9078\"},{\"status\":\"ROSTER\",\"id\":\"9118\"},{\"status\":\"ROSTER\",\"id\":\"8243\"},{\"status\":\"ROSTER\",\"id\":\"9988\"},{\"status\":\"ROSTER\",\"id\":\"0526\"},{\"status\":\"ROSTER\",\"id\":\"0521\"},{\"status\":\"ROSTER\",\"id\":\"6475\"},{\"status\":\"ROSTER\",\"id\":\"8679\"},{\"status\":\"ROSTER\",\"id\":\"10082\"},{\"status\":\"ROSTER\",\"id\":\"9834\"},{\"status\":\"ROSTER\",\"id\":\"10719\"},{\"status\":\"ROSTER\",\"id\":\"10905\"},{\"status\":\"ROSTER\",\"id\":\"9632\"}],\"id\":\"0001\"},{\"player\":[{\"status\":\"ROSTER\",\"id\":\"7836\"},{\"status\":\"ROSTER\",\"id\":\"10706\"},{\"status\":\"ROSTER\",\"id\":\"9884\"},{\"status\":\"ROSTER\",\"id\":\"8359\"},{\"status\":\"ROSTER\",\"id\":\"9269\"},{\"status\":\"ROSTER\",\"id\":\"7236\"},{\"status\":\"ROSTER\",\"id\":\"9101\"},{\"status\":\"ROSTER\",\"id\":\"10334\"},{\"status\":\"ROSTER\",\"id\":\"9881\"},{\"status\":\"ROSTER\",\"id\":\"9308\"},{\"status\":\"ROSTER\",\"id\":\"10960\"},{\"status\":\"ROSTER\",\"id\":\"10736\"},{\"status\":\"ROSTER\",\"id\":\"10697\"},{\"status\":\"ROSTER\",\"id\":\"0506\"}],\"id\":\"0002\"},{\"player\":[{\"status\":\"ROSTER\",\"id\":\"7391\"},{\"status\":\"ROSTER\",\"id\":\"9122\"},{\"status\":\"ROSTER\",\"id\":\"8658\"},{\"status\":\"ROSTER\",\"id\":\"8360\"},{\"status\":\"ROSTER\",\"id\":\"10080\"},{\"status\":\"ROSTER\",\"id\":\"9441\"},{\"status\":\"ROSTER\",\"id\":\"9693\"},{\"status\":\"ROSTER\",\"id\":\"10308\"},{\"status\":\"ROSTER\",\"id\":\"7394\"},{\"status\":\"ROSTER\",\"id\":\"0511\"},{\"status\":\"ROSTER\",\"id\":\"8930\"},{\"status\":\"ROSTER\",\"id\":\"10729\"},{\"status\":\"ROSTER\",\"id\":\"10297\"},{\"status\":\"ROSTER\",\"id\":\"0513\"}],\"id\":\"0003\"},{\"player\":[{\"status\":\"ROSTER\",\"id\":\"9087\"},{\"status\":\"ROSTER\",\"id\":\"10302\"},{\"status\":\"ROSTER\",\"id\":\"9823\"},{\"status\":\"ROSTER\",\"id\":\"4974\"},{\"status\":\"ROSTER\",\"id\":\"7873\"},{\"status\":\"ROSTER\",\"id\":\"10281\"},{\"status\":\"ROSTER\",\"id\":\"9437\"},{\"status\":\"ROSTER\",\"id\":\"10703\"},{\"status\":\"ROSTER\",\"id\":\"8252\"},{\"status\":\"ROSTER\",\"id\":\"10410\"},{\"status\":\"ROSTER\",\"id\":\"9933\"},{\"status\":\"ROSTER\",\"id\":\"4891\"},{\"status\":\"ROSTER\",\"id\":\"10506\"},{\"status\":\"ROSTER\",\"id\":\"0514\"}],\"id\":\"0004\"},{\"player\":[{\"status\":\"ROSTER\",\"id\":\"5848\"},{\"status\":\"ROSTER\",\"id\":\"9902\"},{\"status\":\"ROSTER\",\"id\":\"8934\"},{\"status\":\"ROSTER\",\"id\":\"10261\"},{\"status\":\"ROSTER\",\"id\":\"8247\"},{\"status\":\"ROSTER\",\"id\":\"9458\"},{\"status\":\"ROSTER\",\"id\":\"9250\"},{\"status\":\"ROSTER\",\"id\":\"9822\"},{\"status\":\"ROSTER\",\"id\":\"9444\"},{\"status\":\"ROSTER\",\"id\":\"10392\"},{\"status\":\"ROSTER\",\"id\":\"5168\"},{\"status\":\"ROSTER\",\"id\":\"0525\"},{\"status\":\"ROSTER\",\"id\":\"9467\"},{\"status\":\"ROSTER\",\"id\":\"4907\"}],\"id\":\"0005\"},{\"player\":[{\"status\":\"ROSTER\",\"id\":\"9431\"},{\"status\":\"ROSTER\",\"id\":\"9450\"},{\"status\":\"ROSTER\",\"id\":\"9851\"},{\"status\":\"ROSTER\",\"id\":\"7942\"},{\"status\":\"ROSTER\",\"id\":\"7877\"},{\"status\":\"ROSTER\",\"id\":\"8510\"},{\"status\":\"ROSTER\",\"id\":\"10696\"},{\"status\":\"ROSTER\",\"id\":\"4923\"},{\"status\":\"ROSTER\",\"id\":\"0517\"},{\"status\":\"ROSTER\",\"id\":\"6982\"},{\"status\":\"ROSTER\",\"id\":\"9927\"},{\"status\":\"ROSTER\",\"id\":\"0505\"},{\"status\":\"ROSTER\",\"id\":\"9831\"},{\"status\":\"ROSTER\",\"id\":\"10976\"}],\"id\":\"0006\"},{\"player\":[{\"status\":\"ROSTER\",\"id\":\"9094\"},{\"status\":\"ROSTER\",\"id\":\"10271\"},{\"status\":\"ROSTER\",\"id\":\"10709\"},{\"status\":\"ROSTER\",\"id\":\"0530\"},{\"status\":\"ROSTER\",\"id\":\"9064\"},{\"status\":\"ROSTER\",\"id\":\"9427\"},{\"status\":\"ROSTER\",\"id\":\"8339\"},{\"status\":\"ROSTER\",\"id\":\"0531\"},{\"status\":\"ROSTER\",\"id\":\"8293\"},{\"status\":\"ROSTER\",\"id\":\"9307\"},{\"status\":\"ROSTER\",\"id\":\"8932\"},{\"status\":\"ROSTER\",\"id\":\"10707\"},{\"status\":\"ROSTER\",\"id\":\"0503\"},{\"status\":\"ROSTER\",\"id\":\"10279\"}],\"id\":\"0007\"},{\"player\":[{\"status\":\"ROSTER\",\"id\":\"8657\"},{\"status\":\"ROSTER\",\"id\":\"10273\"},{\"status\":\"ROSTER\",\"id\":\"9054\"},{\"status\":\"ROSTER\",\"id\":\"9830\"},{\"status\":\"ROSTER\",\"id\":\"10870\"},{\"status\":\"ROSTER\",\"id\":\"10313\"},{\"status\":\"ROSTER\",\"id\":\"8776\"},{\"status\":\"ROSTER\",\"id\":\"9921\"},{\"status\":\"ROSTER\",\"id\":\"0515\"},{\"status\":\"ROSTER\",\"id\":\"10713\"},{\"status\":\"ROSTER\",\"id\":\"10312\"},{\"status\":\"ROSTER\",\"id\":\"0501\"},{\"status\":\"ROSTER\",\"id\":\"3579\"},{\"status\":\"ROSTER\",\"id\":\"10276\"}],\"id\":\"0008\"},{\"player\":[{\"status\":\"ROSTER\",\"id\":\"3291\"},{\"status\":\"ROSTER\",\"id\":\"8301\"},{\"status\":\"ROSTER\",\"id\":\"6931\"},{\"status\":\"ROSTER\",\"id\":\"7414\"},{\"status\":\"ROSTER\",\"id\":\"7544\"},{\"status\":\"ROSTER\",\"id\":\"5666\"},{\"status\":\"ROSTER\",\"id\":\"9436\"},{\"status\":\"ROSTER\",\"id\":\"10289\"},{\"status\":\"ROSTER\",\"id\":\"10695\"},{\"status\":\"ROSTER\",\"id\":\"0523\"},{\"status\":\"ROSTER\",\"id\":\"2918\"},{\"status\":\"ROSTER\",\"id\":\"0529\"}],\"id\":\"0009\"},{\"player\":[{\"status\":\"ROSTER\",\"id\":\"9690\"},{\"status\":\"ROSTER\",\"id\":\"7260\"},{\"status\":\"ROSTER\",\"id\":\"8670\"},{\"status\":\"ROSTER\",\"id\":\"8493\"},{\"status\":\"ROSTER\",\"id\":\"0504\"},{\"status\":\"ROSTER\",\"id\":\"8685\"},{\"status\":\"ROSTER\",\"id\":\"9625\"},{\"status\":\"ROSTER\",\"id\":\"8758\"},{\"status\":\"ROSTER\",\"id\":\"0520\"},{\"status\":\"ROSTER\",\"id\":\"8735\"},{\"status\":\"ROSTER\",\"id\":\"8117\"},{\"status\":\"ROSTER\",\"id\":\"10720\"},{\"status\":\"ROSTER\",\"id\":\"10872\"},{\"status\":\"ROSTER\",\"id\":\"8687\"}],\"id\":\"0010\"},{\"player\":[{\"status\":\"ROSTER\",\"id\":\"9448\"},{\"status\":\"ROSTER\",\"id\":\"7393\"},{\"status\":\"ROSTER\",\"id\":\"9525\"},{\"status\":\"ROSTER\",\"id\":\"7401\"},{\"status\":\"ROSTER\",\"id\":\"7052\"},{\"status\":\"ROSTER\",\"id\":\"9440\"},{\"status\":\"ROSTER\",\"id\":\"9360\"},{\"status\":\"ROSTER\",\"id\":\"6997\"},{\"status\":\"ROSTER\",\"id\":\"0510\"},{\"status\":\"ROSTER\",\"id\":\"7480\"},{\"status\":\"ROSTER\",\"id\":\"8268\"},{\"status\":\"ROSTER\",\"id\":\"8178\"},{\"status\":\"ROSTER\",\"id\":\"9429\"},{\"status\":\"ROSTER\",\"id\":\"8042\"}],\"id\":\"0011\"},{\"player\":[{\"status\":\"ROSTER\",\"id\":\"7839\"},{\"status\":\"ROSTER\",\"id\":\"7653\"},{\"status\":\"ROSTER\",\"id\":\"9099\"},{\"status\":\"ROSTER\",\"id\":\"9925\"},{\"status\":\"ROSTER\",\"id\":\"8917\"},{\"status\":\"ROSTER\",\"id\":\"9347\"},{\"status\":\"ROSTER\",\"id\":\"0532\"},{\"status\":\"ROSTER\",\"id\":\"7842\"},{\"status\":\"ROSTER\",\"id\":\"6789\"},{\"status\":\"ROSTER\",\"id\":\"9460\"},{\"status\":\"ROSTER\",\"id\":\"10362\"},{\"status\":\"ROSTER\",\"id\":\"10048\"},{\"status\":\"ROSTER\",\"id\":\"10715\"},{\"status\":\"ROSTER\",\"id\":\"3494\"}],\"id\":\"0012\"}]},\"version\":\"1.0\",\"encoding\":\"ISO-8859-1\"}";
        Type token = new TypeToken<List<Franchise>>() {
        }.getType();
        assertNotNull(mGson.fromJson(rostersFranchiseListJson, token));
    }

    @Test
    public void leagueFranchiseList() {

        String leagueFranchiseListJson = "[{\"logo\":\"http://www13.myfantasyleague.com/fflnetdynamic2013/13642_franchise_logo0001.gif\",\"icon\":\"http://www13.myfantasyleague.com/fflnetdynamic2013/13642_franchise_icon0001.gif\",\"abbrev\":\"F3D\",\"name\":\"Fantasy Football For Dummies\",\"id\":\"0001\",\"waiverSortOrder\":\"1\",\"stadium\":\"The House That Dummies Built\"},{\"icon\":\"http://www22.myfantasyleague.com/fflnet2014/newhelmets/nh-0055.png\",\"name\":\"MattyIce\",\"id\":\"0002\",\"waiverSortOrder\":\"6\"},{\"logo\":\"http://www22.myfantasyleague.com/fflnet2003/helmets/h-0677.gif\",\"icon\":\"http://www22.myfantasyleague.com/fflnet2003/helmets/h-0677.gif\",\"name\":\"Card Sharks\",\"id\":\"0003\",\"waiverSortOrder\":\"4\"},{\"icon\":\"http://www22.myfantasyleague.com/fflnet2009/helmets/h-0061.gif\",\"name\":\"Sentinels\",\"id\":\"0004\",\"waiverSortOrder\":\"8\"},{\"logo\":\"http://www99.myfantasyleague.com/fflnetdynamic2005/38720_franchise_logo0005.jpg\",\"icon\":\"http://www99.myfantasyleague.com/fflnetdynamic2005/38720_franchise_logo0005.jpg\",\"abbrev\":\"BOYS\",\"name\":\"Beastie Boys\",\"id\":\"0005\",\"waiverSortOrder\":\"3\",\"stadium\":\"Dinky Field\"},{\"logo\":\"http://www99.myfantasyleague.com/fflnetdynamic2004/49436_franchise_logo0006.gif\",\"icon\":\"http://www99.myfantasyleague.com/fflnetdynamic2004/49436_franchise_icon0006.gif\",\"name\":\"Iceman\",\"id\":\"0006\",\"waiverSortOrder\":\"2\"},{\"logo\":\"http://www13.myfantasyleague.com/fflnetdynamic2013/13642_franchise_logo0007.jpg\",\"icon\":\"http://www13.myfantasyleague.com/fflnetdynamic2013/13642_franchise_icon0007.jpg\",\"name\":\"Alte Brewmeisters\",\"id\":\"0007\",\"waiverSortOrder\":\"9\",\"iscommish\":\"1\",\"sound\":\"http://www.wavevents.com/MyFilez/wavs/variety/mnf.wav\"},{\"icon\":\"http://www22.myfantasyleague.com/fflnet2011/newhelmets/nh-0003.png\",\"name\":\"In-Laws\",\"id\":\"0008\",\"waiverSortOrder\":\"7\"},{\"logo\":\"http://www22.myfantasyleague.com/fflnet2013/newhelmets/nh-0244.png\",\"icon\":\"http://www22.myfantasyleague.com/fflnet2013/newhelmets/nh-0244.png\",\"name\":\"Chaos Beasts\",\"id\":\"0009\",\"waiverSortOrder\":\"5\"},{\"logo\":\"http://www13.myfantasyleague.com/fflnetdynamic2011/20963_franchise_logo0010.jpg\",\"icon\":\"http://www22.myfantasyleague.com/fflnetdynamic2014/29080_franchise_icon0010.jpg\",\"name\":\"Outlaws\",\"id\":\"0010\",\"waiverSortOrder\":\"10\"}]";

        Type token = new TypeToken<List<Franchise>>() {
        }.getType();
        assertNotNull(mGson.fromJson(leagueFranchiseListJson, token));
    }
}
